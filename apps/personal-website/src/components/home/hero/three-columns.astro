---
import '@material/web/button/filled-button';
import '@material/web/button/outlined-button';
import '@material/web/icon/icon';

import { Image } from 'astro:assets';

import Tag from '../../tag.astro';
import type { Props } from './types';

const hero = Astro.props;
const year = new Date(hero.dateOfBirth).getFullYear();
---

<div class="h-3/4 grid grid-cols-3 py-10 px-20 relative z-0">
  <div class="absolute -z-10 inset-0">
    <div
      class="size-full rounded-xl relative z-0 bg-gray-100 dark:bg-gray-800 overflow-clip
                  after:content-[''] after:bg-on-surface after:h-full after:w-1/2 after:absolute after:-skew-x-[45deg] after:scale-200 after:-z-10 after:-right-1/4 after:top-0"
    >
    </div>
  </div>
  <div class="flex flex-col justify-center">
    <p>{year}</p>
    <h1 class="text-7xl mt-1 mb-16 w-min text-secondary">
      {hero.name.informal.first}
      {hero.name.informal.last}
    </h1>
    <div class="flex-row-center gap-4">
      <md-filled-button href="/blog" class="px-6">Blog</md-filled-button>
      <md-outlined-button
        href="/resume"
        target="_blank"
        has-icon
        trailing-icon
        class="px-6 gap-2"
        >Resume
        <md-icon slot="icon">open_in_new</md-icon>
      </md-outlined-button>
    </div>
  </div>
  <Image
    width={400}
    height={600}
    src={`/images/profile/${Math.ceil(Math.random() * 4)}.png`}
    alt="profile"
    class="object-cover object-center h-[120%] w-full self-end -mb-10"
  />
  <div class="flex flex-col justify-center text-surface gap-6">
    <ul class="list-disc">
      <li>
        {
          `${hero.jobPosition} from ${hero.location.city}, ${hero.location.country}.`
        }
      </li>
      {hero.summaries.map((summary) => <li>{summary}</li>)}
    </ul>
    <ul class="flex gap-2">
      {
        hero.tags.map((tag) => (
          <li>
            <Tag name={tag} class="bg-surface/85 text-on-surface" />
          </li>
        ))
      }
    </ul>
  </div>
</div>
