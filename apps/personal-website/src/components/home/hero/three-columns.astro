---
import '@material/web/button/filled-button';
import '@material/web/button/outlined-button';
import '@material/web/icon/icon';

import type { IHeroProps as Props } from '@types';
import { useTranslatedPath, useTranslation } from '@utils/i18n';
import { Image } from 'astro:assets';

import Tag from '../../tag.astro';

const props = Astro.props;
const year = props.dateOfBirth.getFullYear();

const lang = Astro.currentLocale;
const { t } = await useTranslation(lang, 'home');
const translatePath = useTranslatedPath(lang);
---

<div class="h-3/4 grid grid-cols-3 py-10 px-20 relative z-0">
  <div class="absolute -z-10 inset-0">
    <div
      class="size-full rounded-xl relative z-0 bg-gray-100 dark:bg-gray-800 overflow-clip
                  after:content-[''] after:bg-on-surface after:h-full after:w-1/2 after:absolute after:-skew-x-[45deg] after:scale-200 after:-z-10 after:-right-1/4 after:top-0"
    >
    </div>
  </div>
  <div class="flex flex-col justify-center">
    <p>{year}</p>
    <h1 class="text-7xl mt-1 mb-16 text-secondary">
      {props.name.fullname}
    </h1>
    <div class="flex-row-center gap-4">
      <md-filled-button href={translatePath('/blog')} class="px-6"
        >{t('blog')}</md-filled-button
      >
      <md-outlined-button
        href={translatePath('/resume')}
        target="_blank"
        has-icon
        trailing-icon
        class="px-6 gap-2"
        >{t('resume')}
        <md-icon slot="icon">open_in_new</md-icon>
      </md-outlined-button>
    </div>
  </div>
  <Image
    width={400}
    height={600}
    src={`/images/profile/${Math.ceil(Math.random() * 4)}.png`}
    alt="profile"
    class="object-cover object-center h-[120%] w-full self-end -mb-10"
  />
  <div class="flex flex-col justify-center text-surface gap-6">
    <ul class="list-disc">
      <li>
        {t('home:hero-brief')}
      </li>
      {props.summaries.map((summary) => <li>{summary}</li>)}
    </ul>
    <ul class="flex gap-2">
      {
        props.tags.map((tag) => (
          <li>
            <Tag name={tag} class="bg-surface/85 text-on-surface" />
          </li>
        ))
      }
    </ul>
  </div>
</div>
